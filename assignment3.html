<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>E-Commerce Portal Demo</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 0; background: #f7f7f7; }
    header, footer { background: #fff; padding: 15px 20px; box-shadow: 0 1px 3px rgba(0,0,0,0.1); }
    nav a { margin: 0 10px; color: #333; text-decoration: none; font-weight: bold; }
    nav a:hover { color: #007bff; }
    .container { max-width: 900px; margin: 20px auto; background: #fff; padding: 20px; border-radius: 8px; }
    input, textarea { width: 100%; padding: 8px; margin: 5px 0 10px; border: 1px solid #ccc; border-radius: 4px; }
    button { background: #007bff; color: white; border: none; padding: 8px 16px; border-radius: 4px; cursor: pointer; }
    button:hover { background: #0056b3; }
    .hidden { display: none; }
    .product, .order, .wish, .comment, .report { border: 1px solid #ddd; padding: 10px; border-radius: 5px; margin-bottom: 10px; }
    h2 { border-bottom: 2px solid #007bff; padding-bottom: 5px; }
  </style>
</head>
<body>
<header>
  <nav>
    <a href="#" onclick="showPage('home')">Home</a>
    <a href="#" onclick="showPage('products')">Products</a>
    <a href="#" onclick="showPage('contact')">Contact Us</a>
    <a href="#" onclick="showPage('about')">About Us</a>
    <a href="#" onclick="showPage('account')">Account</a>
  </nav>
</header>

<div class="container">

  <!-- Home -->
  <section id="home">
    <h2>Welcome to ShopEase</h2>
    <p>Your simple demo E-Commerce portal!</p>
  </section>

  <!-- Products -->
  <section id="products" class="hidden">
    <h2>Product Items</h2>
    <div id="product-list"></div>
  </section>

  <!-- Contact -->
  <section id="contact" class="hidden">
    <h2>Contact Us</h2>
    <form id="contactForm" onsubmit="sendMessage(event)">
      <input type="text" id="cname" placeholder="Your Name" required />
      <input type="email" id="cemail" placeholder="Your Email" required />
      <textarea id="cmsg" placeholder="Your Message" required></textarea>
      <button type="submit">Send</button>
    </form>
    <div id="contactResult"></div>
  </section>

  <!-- About -->
  <section id="about" class="hidden">
    <h2>About Us</h2>
    <p>ShopEase is a demo e-commerce website for educational purposes.</p>
  </section>

  <!-- Account -->
  <section id="account" class="hidden">
    <h2>User Registration / Login</h2>
    <div id="authArea">
      <form id="registerForm" onsubmit="registerUser(event)">
        <h3>Register</h3>
        <input type="text" id="rname" placeholder="Full Name" required />
        <input type="email" id="remail" placeholder="Email" required />
        <input type="password" id="rpass" placeholder="Password (min 6 chars)" required />
        <input type="text" id="rphone" placeholder="Phone (10 digits)" required />
        <button type="submit">Register</button>
      </form>

      <form id="loginForm" onsubmit="loginUser(event)">
        <h3>Login</h3>
        <input type="email" id="lemail" placeholder="Email" required />
        <input type="password" id="lpass" placeholder="Password" required />
        <button type="submit">Login</button>
      </form>
    </div>

    <div id="dashboard" class="hidden">
      <h3>Welcome, <span id="userName"></span></h3>
      <button onclick="logout()">Logout</button>
      <hr/>
      <h3>Your Orders</h3>
      <div id="orderList"></div>
      <h3>Your Wishlist</h3>
      <div id="wishlist"></div>
      <h3>Comments & Reviews</h3>
      <textarea id="commentBox" placeholder="Write your comment..."></textarea>
      <button onclick="addComment()">Post Comment</button>
      <div id="comments"></div>
      <h3>Customer Care / Reporting</h3>
      <textarea id="reportBox" placeholder="Describe your issue..."></textarea>
      <button onclick="addReport()">Submit Report</button>
      <div id="reports"></div>
    </div>
  </section>

</div>

<footer>
  <center>&copy; 2025 ShopEase E-Commerce Demo</center>
</footer>

<script>
  // Navigation
  function showPage(id) {
    document.querySelectorAll('section').forEach(s => s.classList.add('hidden'));
    document.getElementById(id).classList.remove('hidden');
  }

  // Demo product list
  const products = [
    {id:1, name:'Wireless Headphones', price:2499},
    {id:2, name:'Smartphone 6.5"', price:17999},
    {id:3, name:'Laptop 14"', price:45999},
    {id:4, name:'Coffee Maker', price:8999}
  ];
  const productDiv = document.getElementById('product-list');
  products.forEach(p=>{
    const div=document.createElement('div');
    div.className='product';
    div.innerHTML=`<b>${p.name}</b><br>?${p.price}<br>
      <button onclick='addOrder(${p.id})'>Order</button>
      <button onclick='addWishlist(${p.id})'>Wishlist</button>`;
    productDiv.appendChild(div);
  });

  // Storage helpers
  const get = (key)=>JSON.parse(localStorage.getItem(key)||'[]');
  const set = (key,val)=>localStorage.setItem(key,JSON.stringify(val));

  // Registration
  function registerUser(e){
    e.preventDefault();
    const name=rname.value.trim(), email=remail.value.trim(), pass=rpass.value, phone=rphone.value.trim();
    if(pass.length<6) return alert('Password must be at least 6 characters.');
    if(!/^[0-9]{10}$/.test(phone)) return alert('Phone must be 10 digits.');
    const users=get('users');
    if(users.find(u=>u.email===email)) return alert('Email already registered.');
    users.push({name,email,pass,phone});
    set('users',users);
    alert('Registered successfully. Now login.');
    e.target.reset();
  }

  // Login
  function loginUser(e){
    e.preventDefault();
    const email=lemail.value.trim(), pass=lpass.value;
    const user=get('users').find(u=>u.email===email && u.pass===pass);
    if(!user) return alert('Invalid credentials.');
    localStorage.setItem('session',JSON.stringify(user));
    showDashboard();
  }

  // Logout
  function logout(){
    localStorage.removeItem('session');
    document.getElementById('dashboard').classList.add('hidden');
    document.getElementById('authArea').classList.remove('hidden');
  }

  // Dashboard
  function showDashboard(){
    const user=JSON.parse(localStorage.getItem('session'));
    if(!user) return;
    userName.textContent=user.name;
    document.getElementById('authArea').classList.add('hidden');
    document.getElementById('dashboard').classList.remove('hidden');
    loadOrders(); loadWishlist(); loadComments(); loadReports();
  }

  if(localStorage.getItem('session')) showDashboard();

  // Orders
  function addOrder(id){
    const p=products.find(x=>x.id===id);
    const orders=get('orders');
    orders.push({...p, date:new Date().toLocaleString()});
    set('orders',orders);
    alert('Order placed.');
    loadOrders();
  }
  function loadOrders(){
    const list=get('orders');
    orderList.innerHTML=list.map(o=>`<div class='order'><b>${o.name}</b> - ?${o.price}<br>${o.date}</div>`).join('')||'No orders.';
  }

  // Wishlist
  function addWishlist(id){
    const p=products.find(x=>x.id===id);
    const w=get('wishlist');
    if(w.find(x=>x.id===id)) return alert('Already in wishlist.');
    w.push(p); set('wishlist',w); alert('Added to wishlist.'); loadWishlist();
  }
  function loadWishlist(){
    const w=get('wishlist');
    wishlist.innerHTML=w.map(i=>`<div class='wish'><b>${i.name}</b> - ?${i.price}</div>`).join('')||'No wishlist items.';
  }

  // Comments
  function addComment(){
    const text=commentBox.value.trim();
    if(text.length<5) return alert('Comment too short.');
    const c=get('comments');
    c.unshift({text,date:new Date().toLocaleString()});
    set('comments',c);
    commentBox.value='';
    loadComments();
  }
  function loadComments(){
    const c=get('comments');
    comments.innerHTML=c.map(x=>`<div class='comment'>${x.text}<br><small>${x.date}</small></div>`).join('')||'No comments yet.';
  }

  // Reports
  function addReport(){
    const text=reportBox.value.trim();
    if(text.length<10) return alert('Report must be 10+ chars.');
    const r=get('reports');
    r.unshift({text,date:new Date().toLocaleString(),status:'Open'});
    set('reports',r);
    reportBox.value='';
    loadReports();
  }
  function loadReports(){
    const r=get('reports');
    reports.innerHTML=r.map(x=>`<div class='report'>${x.text}<br><small>${x.date}</small> | Status: ${x.status}</div>`).join('')||'No reports.';
  }

  // Contact
  function sendMessage(e){
    e.preventDefault();
    const name=cname.value, email=cemail.value, msg=cmsg.value;
    if(msg.length<10) return alert('Message must be 10+ chars.');
    contactResult.innerHTML=`<p>Thank you ${name}! We’ll respond to ${email} soon.</p>`;
    e.target.reset();
  }
</script>
</body>
</html>
